(()=>{"use strict";function t(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return r[n](o,o.exports,t),o.exports}var n,i,r=[,(t,n,i)=>{i.d(n,{z:()=>r});var r={t:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return String.raw.apply(String,[t].concat(i))}}},,,(t,n,i)=>{i.d(n,{$U:()=>o,kR:()=>r,rc:()=>e});var r="data-appzi-dom",e="appzi-screenshot-exclude",o=function(t){return t.setAttribute(r,"1")}}],e={};t.m=r,t.d=(n,i)=>{for(var r in i)t.o(i,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:i[r]})},t.f={},t.e=n=>Promise.all(Object.keys(t.f).reduce(((i,r)=>(t.f[r](n,i),i)),[])),t.u=t=>"lazy-v2100-a28cvv-"+t+".js",t.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),n={},i="appzi-widget:",t.l=(r,e,o)=>{if(n[r])n[r].push(e);else{var u,s;if(void 0!==o)for(var c=document.getElementsByTagName("script"),a=0;a<c.length;a++){var f=c[a];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==i+o){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,t.nc&&u.setAttribute("nonce",t.nc),u.setAttribute("data-webpack",i+o),u.src=r,0!==u.src.indexOf(window.location.origin+"/")&&(u.crossOrigin="anonymous")),n[r]=[e];var h=(t,i)=>{u.onerror=u.onload=null,clearTimeout(v);var e=n[r];if(delete n[r],u.parentNode&&u.parentNode.removeChild(u),e&&e.forEach((t=>t(i))),t)return t(i)},v=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}},t.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},t.p="https://w.appzi.io/",(()=>{var n={26:0};t.f.j=(i,r)=>{var e=t.o(n,i)?n[i]:void 0;if(0!==e)if(e)r.push(e[2]);else{var o=new Promise(((t,r)=>e=n[i]=[t,r]));r.push(e[2]=o);var u=t.p+t.u(i),s=new Error;t.l(u,(r=>{if(t.o(n,i)&&(0!==(e=n[i])&&(n[i]=void 0),e)){var o=r&&("load"===r.type?"missing":r.type),u=r&&r.target&&r.target.src;s.message="Loading chunk "+i+" failed.\n("+o+": "+u+")",s.name="ChunkLoadError",s.type=o,s.request=u,e[1](s)}}),"chunk-"+i,i)}};var i=(i,r)=>{var e,o,[u,s,c]=r,a=0;if(u.some((t=>0!==n[t]))){for(e in s)t.o(s,e)&&(t.m[e]=s[e]);c&&c(t)}for(i&&i(r);a<u.length;a++)t.o(n,o=u[a])&&n[o]&&n[o][0](),n[o]=0},r=self.webpackChunkappzi_widget=self.webpackChunkappzi_widget||[];r.forEach(i.bind(null,0)),r.push=i.bind(null,r.push.bind(r))})(),(()=>{function n(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),i.push.apply(i,r)}return i}function i(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?n(Object(e),!0).forEach((function(n){r(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):n(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function r(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function e(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),i.push.apply(i,r)}return i}function o(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach((function(n){u(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))}))}return t}function u(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function s(t,n){return Object.defineProperty(n,"type",{value:t,writable:!1})}function c(t,n){if("function"==typeof n)return s(t,(function(){return o(o({},n.apply(void 0,arguments)),{},{type:t})}));switch(n?n._as:"empty"){case"empty":return s(t,(function(){return{type:t}}));case"props":return s(t,(function(n){return o(o({},n),{},{type:t})}));default:throw new Error("Unexpected createBridgeMessage config.")}}function a(t,n){return n||(n=t.slice(0)),t.raw=n,t}function f(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),i.push.apply(i,r)}return i}function h(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?f(Object(i),!0).forEach((function(n){v(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))}))}return t}function v(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function l(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),i.push.apply(i,r)}return i}function d(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?l(Object(i),!0).forEach((function(n){b(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))}))}return t}function b(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function p(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}function w(t,n){if(t.i)return t;var i=function(){try{return t.apply(this,arguments)}catch(i){throw n.report(i),i}};Object.defineProperties(i,{i:{enumerable:!1,value:!0}});try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get:function(){return t.name}})}catch(r){}return i}function m(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),i.push.apply(i,r)}return i}function O(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?m(Object(i),!0).forEach((function(n){j(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))}))}return t}function j(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function y(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),i.push.apply(i,r)}return i}function g(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?y(Object(i),!0).forEach((function(n){x(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))}))}return t}function x(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function P(t,n){return n||(n=t.slice(0)),t.raw=n,t}function k(t,n){return n||(n=t.slice(0)),t.raw=n,t}function z(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),i.push.apply(i,r)}return i}function I(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?z(Object(i),!0).forEach((function(n){S(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):z(Object(i)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))}))}return t}function S(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function _(t,n){return n||(n=t.slice(0)),t.raw=n,t}function A(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),i.push.apply(i,r)}return i}function T(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?A(Object(i),!0).forEach((function(n){E(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):A(Object(i)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))}))}return t}function E(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function N(t,n){if(!Object.prototype.hasOwnProperty.call(t,n))throw new TypeError("attempted to use private field on non-instance");return t}function M(t){return"__private_"+ii+++"_"+t}function C(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}function D(t,n){if(!Object.prototype.hasOwnProperty.call(t,n))throw new TypeError("attempted to use private field on non-instance");return t}function R(t){return"__private_"+pi+++"_"+t}function F(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),i.push.apply(i,r)}return i}function J(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?F(Object(i),!0).forEach((function(n){L(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):F(Object(i)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))}))}return t}function L(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function q(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),i.push.apply(i,r)}return i}function B(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?q(Object(i),!0).forEach((function(n){U(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):q(Object(i)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))}))}return t}function U(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function W(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}function X(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),i.push.apply(i,r)}return i}function $(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?X(Object(i),!0).forEach((function(n){Y(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):X(Object(i)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))}))}return t}function Y(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function V(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),i.push.apply(i,r)}return i}function K(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?V(Object(i),!0).forEach((function(n){Z(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):V(Object(i)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))}))}return t}function Z(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function G(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),i.push.apply(i,r)}return i}function H(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?G(Object(i),!0).forEach((function(n){Q(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):G(Object(i)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))}))}return t}function Q(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function tt(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),i.push.apply(i,r)}return i}function nt(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?tt(Object(i),!0).forEach((function(n){it(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):tt(Object(i)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))}))}return t}function it(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}var rt,et,ot,ut,st=function(){function t(){var t=this;this.h=[],this.O=[],this.g=!0,this.appendToMessage=void 0,this.P=[],this.k=[],this.post=function(n){t.g&&t.h.push(n),t.O.forEach((function(t){return t.post(n)}))},this.on=function(n,i){var r=t.appendMessageDataOnCallback(i),e=t.O.map((function(t){return{bridge:t,sub:t.on(n,r)}})),o={creatorFn:n,callback:r,subs:e};return t.P.push(o),{unsubscribe:function(){t.P=t.P.filter((function(t){return t!==o})),o.subs.forEach((function(t){t.sub.unsubscribe()}))}}},this.appendMessageDataOnCallback=function(n){return function(r){return n(i(i({},t.appendToMessage||{}),r))}},this.all=function(n){var i=t.appendMessageDataOnCallback(n),r=t.O.map((function(t){return{bridge:t,sub:t.all(i)}})),e={callback:i,subs:r};return t.k.push(e),{unsubscribe:function(){t.k=t.k.filter((function(t){return t!==e})),r.forEach((function(t){t.sub.unsubscribe()}))}}}}var n=t.prototype;return n.destroy=function(){this.O.forEach((function(t){return t.destroy()}))},n.remove=function(t){var n=this.O.indexOf(t);-1!==n&&(this.P=ct(this.P,t),this.k=ct(this.k,t),this.O.splice(n,1))},n.addBridge=function(t){this.P.forEach((function(n){n.subs.push({bridge:t,sub:t.on(n.creatorFn,n.callback)})})),this.k.forEach((function(n){n.subs.push({bridge:t,sub:t.all(n.callback)})})),this.g=!1,this.h.forEach((function(n){return t.post(n)})),this.h=[],this.O.push(t)},t}(),ct=function(t,n){return t.forEach((function(t){t.subs.filter((function(t){return t.bridge===n})).forEach((function(t){t.sub.unsubscribe()})),t.subs=t.subs.filter((function(t){return t.bridge!==n}))})),t},at="wf",ft=c("w-upd",{_as:"props",_p:void 0}),ht=c("h-up",{_as:"props",_p:void 0}),vt=c("w-query"),lt=c("w-ready"),dt=c("w-size",{_as:"props",_p:void 0}),bt=c("w-dismiss"),pt=c("w-show"),wt=c("w-submit",{_as:"props",_p:void 0}),mt=c("w-focus"),Ot=c("w-un-focus"),jt=c("c-fcs"),yt=t(1),gt="ed48cdd3e1a",xt=function(t){t&&t.parentElement&&t.parentElement.removeChild(t)},Pt=function(t,n){return kt(t.host,n),t},kt=function(t,n){if(t._t!==n)throw new Error("unexpected _t["+t._t+"] expected ["+n+"]");return t},zt=function(t,n){return void 0===n?"":t+":"+(0!==n&&isNaN(n)?n:n+"px")+";"},It=function(t){var n,i=t.rotate,r=t.left,e=t.right,o=t.top,u=t.bottom,s=t.transformOrigin,c=t.x||0,f=t.y||0,h=t.use3d?"translate3d("+c+"px, "+f+"px,0)":"translate("+c+"px, "+f+"px)";return yt.z.t(rt||(rt=a([" transform:"," rotate(","deg);"])),h,i||0)+((n=s)?Array.isArray(n)?"transform-origin:"+n[0]+"px "+n[1]+"px;":"transform-origin:"+n+";":"")+zt("left",r)+zt("right",e)+zt("top",o)+zt("bottom",u)},St=function(t){switch(t){case"window-relative":return yt.z.t(et||(et=a([" position:fixed;z-index:",";"])),2147483e3);case"container-relative":return yt.z.t(ot||(ot=a([" position:absolute;"])));default:throw Error("unexpected launcher position "+t)}},_t=function(){function t(t,n,i,r){void 0===r&&(r="window-relative"),this.bw=t,this.position=r,this.I=void 0,this.S=void 0,this._=void 0,this.S="#"+n,this._="#"+i,this.I=n+"style"}var n=t.prototype;return n.destroy=function(){xt(this.bw.doc.getElementById(this.I))},n.apply=function(t){var n,i,r,e,o=kt(t,"ls"),u=(null==(n=o.hover)?void 0:n.shift)||[0,0],s=u[0],c=u[1],a=(null==(i=o.collapsed)?void 0:i.shift)||[0,0],f=a[0],v=a[1],l=h({transformOrigin:o.transformOrigin,use3d:!0},At(o)),d=o.borderRadius&&"border-radius:"+o.borderRadius.map((function(t){return t+"px"})).join(" ")+";"||"",b=yt.z.t(ut||(r=[" ",",",",","::before{","}","{width:","px;height:","px;transition:all 0.3s ease-out;overflow:hidden;"," "," box-shadow:0 0 5px rgba(0,0,0,0.1);}","{overflow:hidden;position:absolute;top:0;left:0;right:0;bottom:0;}",":hover{"," box-shadow:0 0 20px rgba(0,0,0,0.2);}",".","{opacity:0;pointer-events:none;","}"],e||(e=r.slice(0)),r.raw=e,ut=r),this._,this.S,this.S,d,this.S,o.width,o.height,St(this.position),It(l),this._,this.S,It(h(h({},l),{},{x:(l.x||0)+s,y:(l.y||0)+c})),this.S,gt,It(h(h({},l),{},{x:(l.x||0)+f,y:(l.y||0)+v})));this.bw.applyStyle(b,this.I)},t}(),At=function(t){var n=t.anchor,i=t.width,r=t.height,e=t.shift||[0,0],o=e[0],u=e[1],s=Math.round(i/2),c=n.latch+(n.rotate?"-"+n.rotate:"");switch(c){case"bottom-left":return{left:0,bottom:0,x:o,y:u};case"bottom-right":return{right:0,bottom:0,x:o,y:u};case"left-top-west":return{rotate:-90,transformOrigin:"top left",x:o,y:i+u,top:0,left:0};case"left-west":return{rotate:-90,transformOrigin:"top left",x:o,y:s+u,top:"50%",left:0};case"left-bottom-west":return{rotate:-90,transformOrigin:"top left",x:o,y:u+r,bottom:0,left:0};case"right-top-west":return{rotate:-90,transformOrigin:"top left",x:-r+o,y:i+u,top:0,left:"100%"};case"right-west":return{rotate:-90,transformOrigin:"top left",x:-r+o,y:s+u,top:"50%",left:"100%"};case"right-bottom-west":return{rotate:-90,transformOrigin:"top left",x:-r+o,y:r+u,bottom:0,left:"100%"};default:throw new Error("unsupported anchor "+c)}},Tt=function(){return(new Date).getTime().toString(36)+"-"+Math.random().toString(36).split(".")[1]},Et="light",Nt=function(){},Mt=t(4),Ct=function(){function t(){}var n,i;return t.prototype.applyStyle=function(t,n){if(!t)return xt(n&&this.doc.getElementById(n)),{cleanup:Nt};var i=n&&this.doc.getElementById(n)||function(t,n){var i=t.createElement("style");return(0,Mt.$U)(i),n&&(i.id=n),t.head.appendChild(i),i}(document,n);return i.innerHTML=t,{cleanup:function(){return xt(i)}}},n=t,(i=[{key:"doc",get:function(){return document}},{key:"win",get:function(){return window}}])&&function(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),t}();Ct.default=new Ct;var Dt,Rt,Ft,Jt,Lt,qt,Bt,Ut,Wt,Xt,$t=function(t){var n=t.chohP1r;if(n)return n;var i=t.location;return[i.protocol,"//",i.host,i.pathname].join("")},Yt=function(){function t(t,n){this.sd=t,this.win=n}return t.prototype.report=function(t){return t?this.sd.report(t,{httpRequest:{url:$t(this.win),userAgent:this.win.navigator.userAgent}}):Promise.resolve()},t}(),Vt=function(t,n,i){var r=new i.XMLHttpRequest;return r.open("POST",t,!0),r.setRequestHeader("Content-Type","application/json; charset=UTF-8"),new Promise((function(t,i){r.onreadystatechange=function(){if(4===r.readyState){var e=r.status;e>=200&&e<300?t({message:n.message}):i(new Error((e?e+" http response":"network error")+" on stackdriver report"))}},r.send(JSON.stringify(n))}))},Kt=function(){function t(t,n){var i=t.apiKey,r=t.projectId,e=t.version;this.win=n,this.reportEndpoint=void 0,this.version=void 0,this.version=e,this.reportEndpoint="https://clouderrorreporting.googleapis.com/v1beta1/projects/"+r+"/events:report?key="+i}return t.prototype.report=function(t,n,i){return new Promise(function(r){void 0===i&&(i=Vt);var e=function(t){return(t.stack||t.message||t).toString()}(t),o={message:e,serviceContext:{service:"appzi-widget",version:this.version},context:d(d({},n),{},{reportLocation:{filePath:"main.js",lineNumber:0,functionName:"fn"}})};return r(i(this.reportEndpoint,o,this.win))}.bind(this))},t}(),Zt=function(t){return Dt||(Dt=function(t){var n=new Kt({apiKey:"AIzaSyA03hoziQ7XwPWKI_zJr3BVkTiWd82ui-4",version:"v21.0.0",projectId:"appzi-prod"},t);return new Yt(n,t)}(t)),Dt},Gt=function(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()},Ht=function(t,n,i){for(var r,e=t,o=function(t){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,n){if(t){if("string"==typeof t)return p(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?p(t,n):void 0}}(t))){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(i||Object.keys(t));!(r=o()).done;){var u=r.value;try{e[u]&&"function"===Gt(e[u])&&(e[u]=w(e[u],n))}catch(s){}}return t},Qt=function(t){return void 0===t&&(t=Zt(Ct.default.win)),function(n){return w(n,t)}},tn=function(){function t(t,n,i,r){if(void 0===r&&(r=Zt(Ct.default.win)),this.listenTo=t,this.postTo=n,this.instanceId=i,this.subs=[],this.errWrapper=void 0,this.errWrapper=Qt(r),!t||!n)throw new Error("invalid window arg:"+JSON.stringify([t,n]));if(!i)throw new Error("instance id is required")}var n=t.prototype;return n.all=function(t){var n=this,i=this.errWrapper(t),r=function(t){var r=t.data;(null==r?void 0:r.type)&&(null==r?void 0:r.iid)===n.instanceId&&i(t.data)};this.listenTo.addEventListener("message",r);var e={unsubscribe:function(){n.listenTo.removeEventListener("message",r)}};return this.subs.push(e),e},n.on=function(t,n){var i=this,r=this.errWrapper(n),e=function(n){var e=n.data,o=null==e?void 0:e.type;o&&o===t.type&&(null==e?void 0:e.iid)===i.instanceId&&r(n.data)};this.listenTo.addEventListener("message",e);var o={unsubscribe:function(){i.listenTo.removeEventListener("message",e)}};return this.subs.push(o),o},n.post=function(t){this.postTo.postMessage(O(O({},t),{},{iid:this.instanceId}),"*")},n.destroy=function(){this.subs.forEach((function(t){return t.unsubscribe()}))},t}(),nn=yt.z.t(Rt||(Ft=[" @keyframes p{from{transform:translate(-1em,-1em)rotateZ(0deg);}to{transform:translate(-1em,-1em)rotateZ(360deg);}}@keyframes delayedFadeIn{0%{opacity:0;}75%{opacity:0;}100%{opacity:1;}}body{background-color:#fff;}#loader{position:fixed;width:2em;height:2em;box-sizing:border-box;border-radius:50%;border:2px solid #222;border-left-color:transparent;transform-origin:center center;animation:p 0.7s linear infinite,delayedFadeIn 1s linear;top:50%;left:50%;}"],Jt||(Jt=Ft.slice(0)),Ft.raw=Jt,Rt=Ft)),rn=function(t){var n=t.domTag;return"<"+n+' id="'+t.id+'">'+(t.content||"")+"</"+n+">"},en=function(t){var n=t.bw,i=t.iid,r=t.scripts,e=t.loader,o=t.title,u=t.flags,s=n.doc.createElement("iframe");(0,Mt.$U)(s),s.frameBorder="0",s.onerror=function(t){Zt(n.win).report(t)},o&&(s.title=o),s.width="100%",s.height="100%";var c=new st;return s.addEventListener("load",(function t(){s.removeEventListener("load",t);var a=function(t){var n=t.scripts,i=t.iid,r=t.loader,e=t.flags,o=Tt(),u=rn({id:o,domTag:"div"}),s=r?rn({domTag:"style",content:nn,id:"loader-s"}):"",c=r?rn({id:"loader",domTag:"div"}):"",a={iid:i,root:o,origin:(window.location.href||"").split("?")[0],flags:e};return'<html><head><meta name="viewport" content="width=device-width, initial-scale=1" /><meta charset="utf-8" />'+s+"</head><body>"+(c+u)+'<div style="display:none" id="eeque2x">'+JSON.stringify(a)+"</div>"+n.map((function(t){return'<script async src="'+t+'"><\/script>'})).reduce((function(t,n){return t+n}),"")+"</body></html>"}({title:o,scripts:r,iid:i,loader:e,flags:u});!function(t,n){if("srcdoc"in t)t.srcdoc=n;else{var i=t;i.contentWindow.document.open(),i.contentWindow.document.write(n),i.contentWindow.document.close()}}(s,a),c.addBridge(new tn(n.win,s.contentWindow,i)),c.post(vt())})),{iframe:s,bridge:c,destroy:function(){c.destroy(),xt(s)}}},on=function(t,n){t.addEventListener("mouseenter",(function(){n.post(mt())})),t.addEventListener("mouseleave",(function(){n.post(Ot())}))},un=function(){function t(t,n,i,r,e){var o=this;void 0===r&&(r=Tt()),void 0===e&&(e=Mt.$U),this.A=void 0,this.T=[],this.N=void 0,this.M=!0,this.C=!1,this.bridge=void 0,this.domElement=void 0,this.show=function(){o.M=!0,o.C&&(o.domElement.className="")},this.hide=function(){o.M=!1,o.domElement.className=gt};var u="appzi-slo-"+r,s="appzi-sli-"+r,c=t.doc.createElement("div");e(c),c.className=gt,c.id=u;var a=t.doc.createElement("div");a.id=s,c.appendChild(a),this.domElement=c,this.N=new _t(t,u,s,null==i?void 0:i.positioning),this.N.apply(n.host);var f=en({bw:t,title:"Feedback Button",scripts:[ni(Et)],iid:r,loader:!1,flags:i});this.bridge=f.bridge,on(c,this.bridge),a.appendChild(f.iframe),this.bridge.on(lt,(function(){o.push(n),o.C=!0,o.M&&o.show()})),this.A=f}var n=t.prototype;return n.push=function(t){this.N.apply(t.host),this.bridge.post(ft({widget:t}))},n.destroy=function(){xt(this.domElement),this.A.destroy(),this.N.destroy(),this.T.forEach((function(t){return t.unsubscribe()}))},t}(),sn=function(t){return"@supports (-webkit-backdrop-filter: blur(1px)) {"+t+"}"},cn=function(){function t(t,n,i,r){void 0===r&&(r="window-relative"),this.bw=t,this.position=r,this.I=void 0,this.D=void 0,this._=void 0,this._="#"+n,this.D="#"+i,this.I=n+"-style"}var n=t.prototype;return n.destroy=function(){xt(this.bw.doc.getElementById(this.I))},n.apply=function(t){if("lf"!==t._t)throw new Error("unexpected host cfg");var n=t,i=n.shift||[0,0],r=i[0],e=i[1],o="left"===n.anchor.latch,u=[n.height/4,n.width/4].map(Math.round),s=n.borderRadius&&"border-radius:"+n.borderRadius.map((function(t){return t+"px"})).join(" ")+";"||"",c=s&&yt.z.t(Lt||(Lt=P([" ",","," > iframe,","::before{","}"])),this._,this._,this._,s),a=yt.z.t(qt||(qt=P([" "," ","{box-sizing:border-box;padding:",";opacity:0;width:60vw;position:absolute;",";z-index:-1;transition:all 0.5s;transform:translateX(","px);pointer-events:none;}",":hover ","{opacity:1;transform:translateX(","px);}","{",";height:","px;width:","px;transition:transform 0.3s ease-in-out,opacity 0.3s ease-out,box-shadow 0.3s ease-out;cursor:pointer;"," box-shadow:0 0 5px rgba(0,0,0,0.1);}",":hover{box-shadow:0 0 20px rgba(0,0,0,0.2);}"," ",".","{opacity:0;"," pointer-events:none;}"])),c,this.D,u.map((function(t){return t+"px"})).join(" "),o?"left: 0":"right: 0",o?n.width:-n.width,this._,this.D,o?n.width+5:-n.width-5,this._,St(this.position),n.height,n.width,an(g(g({bottom:0},o?{left:0}:{right:0}),{},{x:r,y:e})),this._,sn(this._+" {transform-origin: 0 0;}"),this._,gt,an({scaleX:0,scaleY:0,x:r,y:e}));this.bw.applyStyle(a,this.I)},t}(),an=function(t){var n,i,r=t.right,e=t.top,o=t.bottom;return"transform: translate("+(t.x||0)+"px,"+(t.y||0)+"px) rotate("+(t.rotate||0)+"deg) "+(i=t.scaleY,(void 0===(n=t.scaleX)||void 0===i?"":"scale("+n+", "+i+")")+"; ")+fn("left",t.left)+fn("right",r)+fn("top",e)+fn("bottom",o)},fn=function(t,n){return void 0===n?"":t+":"+(0!==n&&isNaN(n)?n:n+"px")+";"},hn=function(){function t(t,n,i,r){var e=this;void 0===r&&(r=Mt.$U),this.R=void 0,this.F=void 0,this.T=[],this.N=void 0,this.domElement=void 0,this.bridge=void 0,this.M=!0,this.show=function(){e.M=!0,e.domElement.className=""},this.hide=function(){e.M=!1,e.domElement.className=gt},this.J=function(t){var n=t.host,i=n.tooltip.font.size,r=Math.round(n.height/2),o=n.borderRadius;e.F.bridge.post(ft({widget:{host:{},blocks:[{_t:"c",style:{textAlign:n.anchor.latch},blocks:[{_t:"c",style:{backgroundColor:"#5D6575",padding:[0,.9*i].map(Math.round),border:{radius:o},color:"#fff",display:"inline-block",lineHeight:r,font:n.tooltip.font},blocks:[{_t:"txt",text:n.tooltip.text}]}]}]}}))};var o=Tt(),u="appzi-fli-"+o,s="appzi-fli-tooltip-"+o,c=t.doc.createElement("div");r(c),c.className=gt,c.id=u;var a=t.doc.createElement("div");a.id=s,this.domElement=c,c.appendChild(a),this.N=new cn(t,u,s,null==i?void 0:i.positioning),this.N.apply(n.host);var f=function(t,n,i){return{main:en({bw:t,title:"Feedback Button",scripts:[ni(Et)],iid:n,loader:!1,flags:i}),tooltip:en({bw:t,title:"Tooltip",scripts:[ni(Et)],iid:"tt"+n,loader:!1,flags:i})}}(t,o,i),h=f.main,v=f.tooltip;this.R=h,this.F=v,this.bridge=h.bridge,c.appendChild(h.iframe),a.appendChild(v.iframe),on(c,this.bridge),this.J(n),this.bridge.on(lt,(function(){e.push(n),e.M&&e.show()}))}var n=t.prototype;return n.push=function(t){this.N.apply(t.host),this.bridge.post(ft({widget:t})),this.J(t)},n.destroy=function(){this.T.forEach((function(t){return t.unsubscribe()})),this.R.destroy(),this.F.destroy(),this.N.destroy(),xt(this.domElement)},t}();!function(t){t.AboveWithHoverReveal="th",t.AboveLocked="tnh",t.Inside="i"}(Bt||(Bt={}));var vn,ln,dn,bn,pn,wn,mn,On,jn,yn,gn,xn,Pn,kn=function(t){var n=t.host,i=t.btn,r=t.hoverLock;return yt.z.t(Wt||(Wt=k([" ","{position:absolute;top:-30px;left:-25px;right:-10px;bottom:-10px;z-index:-1;}"," ","{background-size:10px 10px;top:-5px;right:10px;opacity:0;border-radius:50%;}"," ","::after{content:'';box-shadow:0 0 24px rgba(0,0,0,0.24);border-radius:50%;pointer-events:none;position:absolute;top:0;bottom:0;left:0;right:0;transition:all 0.3s ease-in-out;}",":hover ",","," ","{background-color:#5c6b7f;top:-10px;opacity:1;}"])),n,n,i,n,i,n,i,r,i)},zn=function(t){var n=t.host,i=t.btn;return yt.z.t(Xt||(Xt=k([" "," ","{background-color:transparent;background-size:15px 15px;top:10px;right:10px;}"])),n,i)},In=function(t){return Math.round(1.3*t)},Sn=yt.z.t(ln||(ln=_([" body,html{-ms-overflow-style:none;scrollbar-width:none;}body::-webkit-scrollbar{display:none;}"]))),_n=function(){function t(t,n){var i=this;this.bw=t,this.L=void 0,this.q=void 0,this.B=void 0,this.S=void 0,this._=void 0,this.U=void 0,this.W="appzi-s"+Tt(),this.applyHeightInPopUpMode=function(t,n){i.X();var r=Mn({height:n,width:t.width,inner:i._,outer:i.S}),e=Nn({radius:t.borderRadius,radiusSelector:i.U,width:t.width});i.applyHeightStyles(r,e)};var r=n.hostInnerDivId,e=n.hostOuterDivId,o=n.openWidgetOuterBodyClass;this.S="#"+e,this._="#"+r,this.L=e+"style",this.q=e+"-h-style",this.B="."+o,this.U=this._+", "+this._+" iframe"}var n=t.prototype;return n.destroy=function(){xt(this.bw.doc.getElementById(this.L)),xt(this.bw.doc.getElementById(this.W)),xt(this.bw.doc.getElementById(this.q))},n.applyHost=function(t){if("wf"!==t._t)throw new Error("unexpected host cfg");var n,i=this.S,r=this._,e=this.U,o=yt.z.t(dn||(dn=_([" "," ",","," .appzi-is-ios","{position:fixed !important;overflow:hidden !important;-webkit-overflow-scrolling:touch !important;}"])),(n=this.S,yt.z.t(vn||(vn=_([" "," iframe{transform:translate3d(0,0,0);}"])),n)),this.S,Cn({outer:i,inner:r,radius:e}),this.B),u=Dn({host:t,outer:i});this.bw.applyStyle(o+u,this.L)},n.applyHeightInOverflowMode=function(t,n){this.$();var i=Mn({height:n,inner:this._,outer:this.S,width:t.width}),r=/iPad|iPhone|iPod/.test(this.bw.win.navigator.userAgent),e="center"===t.anchor.latch,o=In(t.width),u=En(t),s={x:e?u.x:0,y:0,top:0,bottom:0},c=I(I({},s),{y:100}),a=yt.z.t(bn||(bn=_([" ","{position:fixed !important;overflow:hidden !important;-webkit-overflow-scrolling:touch !important;}"])),this.B),f=yt.z.t(pn||(pn=_([" ","{overflow-y:",";height:100%;transition:transform 0.25s ease-in-out,opacity 0.25s ease-in-out;box-shadow:0 0 35px rgba(0,0,0,0.25);}@media (min-width:","px){","{",";}",".","{","}}","{height:","px;min-height:100%;}"," "])),this.S,r?"scroll":"auto",o,this.S,An(s),this.S,gt,An(c),this._,n,sn(a));this.applyHeightStyles(i,f)},n.cleanup=function(){this.X()},n.applyHeightStyles=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];this.bw.applyStyle(n.join(""),this.q)},n.$=function(){this.bw.applyStyle(Sn,this.W)},n.X=function(){this.bw.applyStyle("",this.W)},t}(),An=function(t){var n=t.right,i=t.top,r=t.bottom;return"transform: translate3d("+(t.x||0)+"px,"+(t.y||0)+"px, 2147483004px); "+Tn("left",t.left)+Tn("right",n)+Tn("top",i)+Tn("bottom",r)},Tn=function(t,n){return void 0===n?"":t+":"+(0!==n&&isNaN(n)?n:n+"px")+";"},En=function(t){var n=t.shift||[0,0],i=n[0],r=n[1],e=t.anchor.latch,o=t.width/2;switch(e){case"left":return{left:0,bottom:0,x:i,y:r};case"right":return{right:0,bottom:0,x:i,y:r};case"center":return{right:"50%",left:"50%",top:"10%",x:-o+i,y:r};default:throw new Error("unsupported anchor "+e)}},Nn=function(t){var n=t.radius,i=t.radiusSelector,r=In(t.width),e=function(t){var n=t||[0,0,0,0],i=n[0],r=n.length>1?n[1]:n[0];return{top:i,right:r,bottom:n.length>2?n[2]:i,left:n.length>3?n[3]:r}}(n),o=e.top,u=e.right,s=[o,u,e.bottom,e.left];return yt.z.t(wn||(wn=_([" ","{border-radius:","px ","px 0 0;}@media (min-width:","px){","{overflow:hidden;border-radius:",";}}"])),i,o,u,r,i,s.map((function(t){return t+"px"})).join(" "))},Mn=function(t){var n=t.height,i=t.inner,r=t.outer,e=t.width,o=In(e);return yt.z.t(mn||(mn=_([" ","{overflow:visible;height:","px;}@media (min-width:","px){","{width:","px;}","{min-height:100%;}}"])),r,n,o,r,e,i)},Cn=function(t){var n=t.outer,i=t.inner,r=t.radius;return yt.z.t(On||(On=_([" ",",",","," iframe{margin:0;padding:0;border:0;font-size:100%;font:inherit;float:none;line-height:1;display:block;}","{position:fixed;left:0;right:0;bottom:0;transition:all 0.25s ease-in-out;z-index:",";scroll-behavior:smooth;transform-style:flat;}",".","{opacity:0;pointer-events:none;transform:translateY(20%);}","{height:100%;width:100%;box-shadow:0 0 20px rgba(0,0,0,0.2);position:relative;}","{border-radius:0;}"])),n,i,n,n,2147483004,n,gt,i,r)},Dn=function(t){var n,i=t.host,r=t.outer,e=En(i),o=(null==(n=i.collapsed)?void 0:n.shift)||[0,0],u=o[0],s=o[1],c=In(i.width);return yt.z.t(jn||(jn=_([" @media (min-width:","px){","{left:initial;right:initial;top:initial;}","{","}",".","{","}}"])),c,r,r,An(e),r,gt,An(I(I({},e),{},{x:(e.x||0)+u,y:(e.y||0)+s})))},Rn="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0",Fn=function(){function t(t,n){this.bw=t,this.fullScreenWidthBreakPoint=n,this.Y={viewPort:null,scrollY:0,scrollX:0},this.V=this.Y}var n,i,r=t.prototype;return r.restore=function(){var t=this.getMetaTag();if(t){var n=this.V,i=n.viewPort,r=n.scrollX,e=n.scrollY;i&&t.getAttribute("content")!==i&&(null==t||t.setAttribute("content","initial-scale=1.0"),null==t||t.setAttribute("content",i)),(r||e)&&this.bw.win.scrollTo(r,e),this.V=this.Y}},r.setScreenSpecific=function(){if(this.isFullScreen){var t=this.getMetaTag();t||((t=this.bw.doc.createElement("meta")).setAttribute("name","viewport"),t.setAttribute("content","initial-scale=1.0"),this.bw.doc.head.appendChild(t));var n=t.getAttribute("content");n!==Rn&&(this.V={scrollY:this.bw.win.scrollY,scrollX:this.bw.win.scrollX,viewPort:n},t.setAttribute("content",Rn))}},r.getMetaTag=function(){return this.bw.doc.querySelector('head meta[name="viewport"]')},n=t,(i=[{key:"isFullScreen",get:function(){return this.bw.win.outerWidth<=this.fullScreenWidthBreakPoint}}])&&function(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),t}(),Jn=function(){function t(t,n,i,r){var e=this;void 0===r&&(r=Mt.$U),this.bw=t,this.widgetConfig=n,this.A=void 0,this.T=[],this.N=void 0,this.K=void 0,this.domElement=void 0,this.bridge=void 0,this.closeButton=void 0,this.Z=void 0,this.G=Nt,this.H=!0,this.tt=void 0,this.reApplyStyles=function(){e.N.applyHost(e.widgetConfig.host),e.autoSize({avoidLayoutShifts:!1})},this.nt=!1,this.show=function(){e.H=!0,e.reApplyStyles(),e.K.setScreenSpecific(),e.domElement.className="",e.bw.doc.body.classList.add(e.tt),e.bridge.post(pt()),e.bridge.post(jt())},this.hide=function(){e.H=!1,e.bw.doc.body.classList.remove(e.tt),e.domElement.className=gt,e.K.restore(),e.N.cleanup()};var o=Tt();this.tt="appzi-f-w-open-"+o;var u=Ln({bw:t,instanceId:o,markAsAppzi:r}),s=u.outerDiv,c=u.hostOuterDivId,a=u.hostInnerDivId,f=u.innerDiv;this.domElement=s;var h,v=this.widgetConfig.host;this.Z=v.height,this.closeButton=function(t,n,i){void 0===i&&(i=Mt.$U);var r,e=!("ontouchstart"in(r=n.win)||r.navigator.maxTouchPoints>0||r.navigator.msMaxTouchPoints>0),o=n.doc.createElement("div");i(o);var u=n.doc.createElement("div");o.appendChild(u);var s,c,a="xb"+Tt(),f=a+"s",h=f+"t",v=f+"tl",l=f+"in",d="#"+a;u.id=a,n.applyStyle([(s={btn:d},c=s.btn,yt.z.t(Ut||(Ut=k([" ","{"," transition:all 0.3s ease-in-out;position:absolute;background-image:url('","/assets/close-touch-white-",".svg');background-repeat:no-repeat;background-position:50% 50%;cursor:pointer;width:30px;height:30px;z-index:1;}"])),c,"display:block;","https://w.appzi.io","v2100-a28cvv")),kn({host:"."+h,btn:d,hoverLock:"."+v}),zn({host:"."+l,btn:d})].join(""),f);var b=function(t){return o.classList.add(t)},p=function(t){return o.classList.remove(t)};b(h),b(v);var w=function(){return e&&p(v)};return t.addEventListener("mouseenter",(function(){return b(v)})),t.addEventListener("mouseleave",w),t.appendChild(o),{hide:Nt,show:Nt,setMode:function(t){switch(t){case Bt.AboveLocked:p(l),b(h),b(v);break;case Bt.AboveWithHoverReveal:p(l),b(h),w();break;default:b(l),p(h),w()}},onClick:function(t){var n=function(n){n.stopPropagation(),t()};u.addEventListener("click",n),o.addEventListener("click",n)},destroy:function(){xt(o),xt(n.doc.getElementById(f))}}}(s,t),this.N=new _n(t,{hostOuterDivId:c,hostInnerDivId:a,openWidgetOuterBodyClass:this.tt}),this.K=new Fn(t,In(v.width)),this.reApplyStyles(),this.A=en({bw:t,title:"Feedback Widget",scripts:[ni("heavy")],iid:o,loader:!0,flags:i}),this.bridge=this.A.bridge,on(s,this.bridge),f.appendChild(this.A.iframe);var l,d,b=this.bridge.on(dt,(function(n){var i=n.height;e.Z=i,e.autoSize({avoidLayoutShifts:!0}),h&&h.removeEventListener("change",w),(h=t.win.matchMedia("(min-height: "+i+"px)")).addEventListener("change",w)})),p=function(t){var n,i=function(){return clearTimeout(n)};return{debounced:function(){i(),n=setTimeout(t,300)},clearDebounce:i}}((function(){return e.autoSize({avoidLayoutShifts:!1})})),w=p.debounced,m=p.clearDebounce,O=((l=this.bw.win).addEventListener("resize",d=w,void 0),function(){return l.removeEventListener("resize",d)});this.G=function(){m(),O()};var j=this.bridge.on(lt,(function(){e.push(n),e.H&&e.show()}));this.T.push(j,b)}var n=t.prototype;return n.autoSize=function(t){var n=t.avoidLayoutShifts;if(this.H){var i=this.widgetConfig.host,r=In(i.width),e=this.bw.win.innerWidth<=r,o=this.Z,u=function(t){var n=t.available,i=t.required;return{isOverflow:n/i<1.2,mustExitOverflow:n/i>1.7}}({available:this.bw.win.innerHeight,required:o}),s=u.mustExitOverflow;u.isOverflow?this.nt=!0:!s&&n||(this.nt=!1),this.nt?(this.closeButton.setMode(Bt.Inside),this.N.applyHeightInOverflowMode(i,o)):(this.closeButton.setMode(e?Bt.AboveLocked:Bt.AboveWithHoverReveal),this.N.applyHeightInPopUpMode(i,o)),this.reevaluateViewPortMeta()}},n.reevaluateViewPortMeta=function(){this.H?this.K.setScreenSpecific():this.K.restore()},n.push=function(t){this.widgetConfig=Pt(t,at),this.reApplyStyles(),this.bridge.post(ft({widget:t}))},n.destroy=function(){this.bw.doc.body.classList.remove(this.tt),this.K.restore(),xt(this.domElement),this.closeButton.destroy(),this.N.destroy(),this.A.destroy(),this.G(),this.T.forEach((function(t){return t.unsubscribe()}))},t}(),Ln=function(t){var n=t.bw,i=t.instanceId,r=t.markAsAppzi,e="appzi-wfo-"+i,o="appzi-wfi-"+i,u=n.doc.createElement("div");r(u),u.className=gt;var s=n.doc.createElement("div");return s.id=o,u.id=e,u.appendChild(s),{outerDiv:u,innerDiv:s,hostInnerDivId:o,hostOuterDivId:e}},qn=function(){function t(t,n){this.bw=t,this.I=void 0,this.it=void 0,this.it="#"+n,this.I=n+"style"}var n=t.prototype;return n.destroy=function(){xt(this.bw.doc.getElementById(this.I))},n.apply=function(t){var n=t.width,i=t.height,r=t.borderRadius?"border-radius:"+t.borderRadius.map((function(t){return t+"px"})).join(" ")+";":"",e=i&&"height:"+i+"px;"||"",o=n&&"width:"+n+"px;"||"",u=yt.z.t(yn||(yn=function(t,n){return n||(n=t.slice(0)),t.raw=n,t}([" ","{transition:height 0.3s ease-out;overflow:hidden;"," "," ","}"])),this.it,r,e,o);this.bw.applyStyle(u,this.I)},t}(),Bn=function(){function t(t,n,i,r){var e=this;void 0===r&&(r=Tt()),this.bw=t,this.rt=[],this.T=[],this.bridge=void 0,this.domElement=void 0,this.show=Nt,this.hide=Nt;var o=en({bw:this.bw,title:i.title,scripts:[ni(i.build)],iid:r,loader:i.loader,flags:i.flags}),u=o.bridge,s=o.destroy;this.domElement=o.iframe,this.bridge=u;var c=this.bridge.on(lt,(function(t){t.iid===r&&(e.bridge.post(ft({widget:n})),c.unsubscribe())}));this.T.push(c),this.rt.push({destroy:function(){return s()}})}var n=t.prototype;return n.push=function(t){this.bridge.post(ft({widget:t}))},n.destroy=function(){this.T.forEach((function(t){return t.unsubscribe()})),this.rt.forEach((function(t){return t.destroy()}))},t}(),Un=function(){function t(t,n,i,r,e){var o=this;void 0===r&&(r=Tt()),void 0===e&&(e=Mt.$U),this.bw=t,this.et=[],this.N=void 0,this.bridge=void 0,this.domElement=void 0,this._t=void 0,this.show=Nt,this.hide=Nt;var u=n.host,s="appzi-i-"+r;this.domElement=this.bw.doc.createElement("div"),this.domElement.id=s,e(this.domElement),this.N=new qn(t,s),this.N.apply(u);var c=new Bn(this.bw,n,i,r);this.bridge=c.bridge;var a=this.bridge.on(dt,(function(t){var n=t.height;o.N.apply(T(T({},u),{},{height:n}))}));this.et.push(c,this.N,{destroy:function(){return a.unsubscribe()}}),this.domElement.appendChild(c.domElement)}var n=t.prototype;return n.push=function(t){this.bridge.post(ft({widget:t})),this.N.apply(t.host)},n.destroy=function(){this.et.forEach((function(t){return t.destroy()})),xt(this.domElement)},t}(),Wn=function(t){var n=t.doc,i=t.win;return{width:i.innerWidth||n.documentElement.clientWidth||n.body.clientWidth,height:i.innerHeight||n.documentElement.clientHeight||n.body.clientHeight,x:(i.scrollX||n.documentElement.scrollLeft)-(n.documentElement.clientLeft||0),y:(i.scrollY||n.documentElement.scrollTop)-(n.documentElement.clientTop||0)}},Xn={unsubscribe:function(){}},$n=function(){var t=[];return{next:function(n){t.forEach((function(t){return t(n)}))},subscribe:function(n){return t.push(n),{unsubscribe:function(){var i=t.indexOf(n);-1!==i&&t.splice(i,1)}}}}},Yn=function(){return{hide:Nt,show:Nt,onClick:Nt,destroy:Nt}},Vn=function(){function t(t,n,i,r){var e=this;this.bw=t,this.ot=n,this.ut=i,this.st=r,this.ct=void 0,this.ft=Yn(),this.ht=void 0,this.bridge=new st,this.G=Nt,this.vt=void 0,this.lt=void 0,this.state$=$n(),this.dt=function(t){e.lt!==t&&(e.lt=t,e.state$.next({isOpen:t}))},this.show=function(){e.dt(!0),e.ht&&(e.vt=Wn(e.bw),e.ct||e.bt(),e.ct.show(),e.ft.show())},this.hide=function(){var t;e.dt(!1),null==(t=e.ct)||t.hide(),e.ft.hide()},this.wt=function(){e.bridge.post(bt())},this.bt=function(){var t=e.ht.id,n=e.ht.widget,i=e.st(Pt(n,at));e.ct=i,i.closeButton.onClick(e.wt),e.bridge.addBridge(e.ct.bridge),e.bw.doc.body.appendChild(e.ct.domElement),e.ct.bridge.on(wt,(function(n){e.ot.submit({configId:t,payload:n.payload,screenshot:e.ut.screenshot?e.ut.screenshotRenderingStrategy:"none",screenMeta:e.vt})})),e.ct.bridge.on(bt,e.hide),e.ct.push(n)}}var n=t.prototype;return n.destroy=function(){var t;this.bridge.destroy(),null==(t=this.ct)||t.destroy(),this.ft.destroy(),this.G()},n.push=function(t){var n=!this.ht;this.ht=t;var i=this.ht.widget,r=i.host.backdrop,e=!!r,o=!0===r?[0,0,0,.5]:r;this.ft.destroy(),this.ft=e?function(t,n,i){void 0===i&&(i=Mt.$U);var r="bk"+Tt(),e=t.doc.createElement("div");i(e),e.id=r;var o=r+"s";e.className=gt;var u=yt.z.t(gn||(gn=function(t,n){return n||(n=t.slice(0)),t.raw=n,t}([" #","{background-color:",";position:fixed;top:0;bottom:0;left:0;right:0;z-index:",";}#",".","{opacity:0;pointer-events:none;}"])),r,"rgba("+n.join(",")+")",2147483003,r,gt);return t.applyStyle(u,o),t.doc.body.appendChild(e),{hide:function(){e.className=gt},show:function(){e.className=""},onClick:function(t){e.addEventListener("click",t)},destroy:function(){xt(e),xt(t.doc.getElementById(o))}}}(this.bw,o):Yn(),this.ft.onClick(this.wt),this.ct&&this.ct.push(Pt(i,"wf")),n&&this.lt&&this.show()},t}(),Kn=function(){function t(t,n,i,r){var e=this;void 0===r&&(r=Gn),this.bw=t,this.Ot=n,this.jt=i,this.yt=r,this.gt=!1,this.xt=void 0,this.ht=void 0,this.state$=void 0,this.bridge=new st,this.show=function(){var t;e.gt=!0,e.ht&&(null==(t=e.xt)||t.hide(),e.Ot.show())},this.hide=function(){e.gt=!1,e.Pt()},this.kt=function(t){e.gt!==t&&(t?e.show():e.hide())},this.Pt=function(){e.ht&&(e.xt||(e.xt=e.yt(e.bw,e.ht.launcher,e.jt),e.bw.doc.body.appendChild(e.xt.domElement),e.bridge.addBridge(e.xt.bridge),e.xt.bridge.on(bt,(function(){return e.show()}))),e.xt.show(),e.Ot.hide())},this.bridge.addBridge(this.Ot.bridge),this.Ot.state$.subscribe((function(t){return e.kt(t.isOpen)})),this.state$=this.Ot.state$}var n=t.prototype;return n.destroy=function(){var t;this.bridge.destroy(),null==(t=this.xt)||t.destroy(),this.Ot.destroy()},n.push=function(t){var n,i=!this.ht;this.ht=t,null==(n=this.xt)||n.push(t.launcher),this.Ot.push(t),i&&(this.gt?this.show():this.hide())},t}(),Zn=function(t,n,i){var r=n.host._t;if(r===at)return new Jn(t,n,i);throw new Error("unsupported host:"+r)},Gn=function(t,n,i){var r=n.host._t;switch(r){case"ls":return new un(t,n,i);case"lf":return new hn(t,n,i);default:throw new Error("unsupported host:"+r)}},Hn=function(t){var n=t||{};return{build:n.build||"heavy",loader:!!n.loader,flags:n.flags}},Qn=function(t,n,i){var r=Hn(i);return new Un(t,n,r)},ti=function(t,n,i){var r,e=(null==(r=n.privacy)?void 0:r.screenShot)||{},o=new Vn(t,i.submitService,{screenshot:e.isEnabled,screenshotRenderingStrategy:e.renderer},(function(n){return Zn(t,n,i.heavy)}));return n.launcher?new Kn(t,o,i.light):o},ni=function(t){return"heavy"===t?"https://w.appzi.io/h-v2100-a28cvv.js":"https://w.appzi.io/l-v2100-a28cvv.js"},ii=0,ri=M("hosts"),ei=function(t,n,i){var r=this;void 0===i&&(i=ti),this.bw=t,this.zt=n,this.It=i,this.v="v21.0.0",Object.defineProperty(this,ri,{writable:!0,value:{}}),this.hosts$=$n(),this.bridge=new st,this.create=function(t,n){var i=t;if(!N(r,ri)[ri][i.id]){var e,o=n||{},u={editMode:null==(e=o.flags)?void 0:e.editMode};N(r,ri)[ri][i.id]=r.It(r.bw,i,{heavy:{},light:u,submitService:o.submitService||r.zt}),r.bridge.addBridge(N(r,ri)[ri][i.id].bridge)}var s=N(r,ri)[ri][i.id];return r.hosts$.next(s),s.push(i),s},this.wi=function(t,n){var i=function(t,n,i){var r=Hn(i);return new Bn(t,n,r)}(r.bw,t,n);return r.hosts$.next(i),i},this.wia=function(t,n){var i=Qn(r.bw,t,n);return r.hosts$.next(i),i},this.wh=function(t,n){var i=function(t,n,i){switch(n.host._t){case"i":return Qn(t,n,Hn({flags:i}));case"wf":return Zn(t,n,i);case"lf":case"ls":return Gn(t,n,i);default:throw new Error("unsupported host:"+n.host._t)}}(r.bw,t,n);return r.hosts$.next(i),i},this.get=function(t){return N(r,ri)[ri][t]},this.destroy=function(t){var n=r.get(t);n&&(n.destroy(),r.bridge.remove(n.bridge),delete N(r,ri)[ri][t])},this.submit=this.zt.submit.bind(this.zt),this.openWidget=function(t){r.sw.open(t)},this.dismissWidget=function(t){var n;null==(n=r.get(t))||n.hide()},this.St={show:function(){return r.At=!0},destroy:function(){return r.At=!1},hide:function(){return r.At=!1}},this.Tt=!1,this.At=!1,this.Et=function(){r.Tt=!0;var t=r.bw.doc.createElement("script");t.src="https://w.appzi.io/sp-v2100-a28cvv.js",t.async=!0,r.bw.doc.head.appendChild(t)},this.s=function(t){r.St.show=t.show,r.St.hide=t.hide,r.St.destroy=t.destroy,r.At&&t.show()},this.scratchPad=function(){return r.Tt||r.Et(),r.St},this.sw={open:function(t){var n;return null==(n=r.get(t))?void 0:n.show()}}},oi={},ui=function(t){return{settings:function(){return t.appziSettings||oi}}},si=function(t){return t},ci="auto",ai=function(t){var n=t.settings().render||{};return{type:n.type||ci,debug:!!n.debug,nodes:n.nodes||[],beforeMultipartJoin:n.beforeMultipartJoin||si}},fi=function(t,n,i){var r=t.createElement("a");r.download=i,r.href=n,r.click()},hi=function(n){return new Promise((function(i){return new Promise((function(r,e){function o(){return r(xn(n).then(i))}return xn?o.call(this):Promise.resolve(Promise.all([t.e(31),t.e(30)]).then(t.bind(t,58))).then(function(t){try{return xn=t.renderMultipleNodes,o.call(this)}catch(n){return e(n)}}.bind(this),e)}))}))},vi=function(t,n,i){var r=this;void 0===i&&(i=hi),this.bw=t,this.sp=n,this.render=i,this.renderAndAttachScreenshot=function(t,n,i){return new Promise((function(e,o){var u,s,c,a,f,h,v,l,d,b,p,w,m,O,j,y,g,x,P;return u=r.bw.doc,Promise.resolve(r.render(n)).then(function(k){try{return(s=k).success?(c=ai(r.sp),a=c.debug,Promise.resolve((z=(0,c.beforeMultipartJoin)(s.blobs),z.then?z:Promise.resolve(z))).then(function(s){try{{var c;function z(){return(j=O()).done?[1]:(g=(y=j.value).removeBg,x=y.position,m++,Promise.resolve(function(t,n,i,r){var e=void 0===r?{}:r,o=e.x,u=e.y;return new Promise((function(r){var e=t.createElement("img");e.addEventListener("load",(function(){n.drawImage(e,o||0,u||0),r()})),e.src=i}))}(u,w,y.imgSrc,x&&{x:x.x,y:x.y})).then((function(){try{return g&&function(t,n,i){void 0===i&&(i=15);for(var r=t.getImageData(n.x,n.y,n.width,n.height),e=r.data,o=0,u=e.length;o<u;o+=4)e[o]>255-i&&e[o+1]>255-i&&e[o+2]>255-i&&e[o+3]>255-i&&(e[o]=0,e[o+1]=0,e[o+2]=0,e[o+3]=0);t.putImageData(r,0,0)}(w,{x:0,y:0,width:v,height:l}),b.drawImage(p,0,0),a&&(fi(u,p.toDataURL("image/png"),m+"-tmp.png"),fi(u,d.toDataURL("image/png"),m+"-merged.png")),z}catch(t){return o(t)}}),o))}return f=s,v=(h=n.canvas).width,l=h.height,(d=u.createElement("canvas")).width=v,d.height=l,(b=d.getContext("2d")).fillStyle="#fff",b.fillRect(0,0,v,l),(p=u.createElement("canvas")).width=v,p.height=l,w=p.getContext("2d"),m=0,O=function(t){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,n){if(t){if("string"==typeof t)return C(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?C(t,n):void 0}}(t))){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(f),(c=function(t){for(;t;){if(t.then)return void t.then(c,o);try{if(t.pop){if(t.length)return t.pop()?I.call(this):t;t=z}else t=t.call(this)}catch(n){return o(n)}}}.bind(this))(z);function I(){return P=d.toDataURL("image/png"),Promise.resolve(r.bw.win.fetch(i+"/collect/"+t+"/blob-shot",{method:"post",body:P})).then((function(){try{return e()}catch(t){return o(t)}}),o)}}}catch(k){return o(k)}}.bind(this),o)):e()}catch(I){return o(I)}var z}.bind(this),o)}))}},li=function(n){var i=this;this.win=n,this.renderAndAttachScreenshot=function(n,r,e){return new Promise((function(o,u){var s,c,a;return Promise.resolve((a=r,new Promise((function(n){return new Promise((function(i,r){function e(){return i(Pn(a).then(n))}return Pn?e.call(this):Promise.resolve(Promise.all([t.e(31),t.e(30)]).then(t.bind(t,58))).then(function(t){try{return Pn=t.renderOneNode,e.call(this)}catch(n){return r(n)}}.bind(this),r)}))})))).then((function(t){try{return c=(s=t).blob,s.success?Promise.resolve(i.win.fetch(e+"/collect/"+n+"/blob-shot",{method:"post",body:c})).then((function(){try{return o()}catch(t){return u(t)}}),u):o()}catch(r){return u(r)}}),u)}))}},di=function(t){var n=this;this.win=t,this.renderAndAttachScreenshot=function(t,i,r){return new Promise((function(e){return e(n.win.fetch(r+"/collect/"+t+"/html-shot",{method:"post",body:i.node.outerHTML}))}))}},bi=function(t){var n=t.win.location,i=n.protocol,r="localhost"===(n.hostname||"localhost").toLocaleLowerCase(),e=0!==i.toLocaleLowerCase().indexOf("http");return r||e?"client":"server"},pi=0,wi=R("renderers"),mi=function(t,n,i){var r=this;this.bw=t,this.sp=n,Object.defineProperty(this,wi,{writable:!0,value:void 0}),this.renderAndAttachScreenshot=function(t,n,i){return new Promise((function(e){var o,u,s=(o=n.strategy,(u=ai(r.sp).type)!==ci?u:o||ci),c=function(t,n,i){var r=i.screen,e=i.strategy;if("client-multipart"===e){var o=function(t,n){var i=ai(n).nodes;return("array"===Gt(i)?i.map((function(n){return t.querySelectorAll(n)})).reduce((function(t,n){return t.concat.apply(t,n)}),[]):i()).filter((function(t){return!!t}))}(t,n);return{nodes:o.length?o.map((function(t){return{node:t,meta:(n=t.getBoundingClientRect(),{x:n.x,y:n.y,height:n.height,width:n.width})};var n})):[{meta:r,node:t.documentElement}],renderStrategy:"client-multipart",canvas:r}}return{meta:r,node:t.documentElement,renderStrategy:e}}(r.bw.doc,r.sp,{screen:n.screen,strategy:s});return e(D(r,wi)[wi][s].renderAndAttachScreenshot(t,c,i))}))},D(this,wi)[wi]=i||function(t,n){var i=new di(t.win),r=new li(t.win),e=new vi(t,n);return{server:i,client:r,auto:"client"===bi(t)?r:i,"client-multipart":e,none:{renderAndAttachScreenshot:function(){return Promise.resolve()}}}}(t,this.sp)},Oi=function(t,n){var i=this;this.wrapped=t,this.reporter=n,this.submit=function(t,n){return new Promise((function(r,e){var o=function(t){try{throw i.reporter.report(t),t}catch(n){return e(n)}};try{return Promise.resolve(i.wrapped.submit(t,n)).then(r,o)}catch(u){o(u)}}))}},ji=function(){function t(t,n,i,r){this.bw=t,this.Nt=n,this.sp=i,this.renderer=r}return t.prototype.submit=function(t,n){return new Promise(function(i,r){var e,o,u,s,c,a,f,h,v,l;return e=t.configId,o=t.payload,u=t.screenMeta,s=t.screenshot,void 0===n&&(n="https://api.appzi.io/api"),c=this.sp.settings(),a=gi(null==c?void 0:c.data),f=[].concat(a,o),h=function(t){var n=t.win;return{screen:Wn(t),origin:n.location.href,language:n.navigator.languages&&n.navigator.languages.join(", ")||n.navigator.language||n.navigator.userLanguage}}(this.bw),v=u?J(J({},h),{},{screen:u}):h,Promise.resolve(this.Nt.fetch(n+"/collect/"+e,{method:"post",body:JSON.stringify({meta:v,data:f})})).then(function(t){try{return Promise.resolve(t.text()).then(function(t){try{if(l=t.replace(/"/g,""),"none"===s)return i(l);var e=function(){try{return i(l)}catch(t){return r(t)}},o=function(){try{return e()}catch(t){return r(t)}};try{return Promise.resolve(this.renderer.renderAndAttachScreenshot(l,{screen:v.screen,strategy:s},n)).then((function(){try{return e()}catch(t){return o()}}),o)}catch(u){o()}}catch(c){return r(c)}}.bind(this),r)}catch(e){return r(e)}}.bind(this),r)}.bind(this))},t}(),yi=["boolean","number","string"],gi=function(t){try{if(!t)return[];if("object"!==Gt(t))return[];var n=[],i=[];return Object.keys(t).forEach((function(r){var e=function(t,n){var i=t.toLowerCase().replace(/[^a-z0-9]/gi,"");if(/\d/.test(i[0]))return"_"+i;for(var r=i||"_",e=2,o=r;-1!==n.indexOf(o);)o=r+e,e++;return o}(r,i),o=e===r?void 0:r;i.push(e);var u=function(t){var n=Gt(t);if("object"===n){var i=t.value,r=Gt(i);if(-1!==yi.indexOf(r))return{value:i,label:"string"===Gt(t.label)?t.label:void 0}}if(-1!==yi.indexOf(n))return{value:t}}(t[r]);u&&n.push({_t:"js",blockId:e,value:u.value,label:u.label||o})})),n}catch(r){return[]}},xi=c("wt-1st-view",{_as:"props",_p:void 0}),Pi=c("wt-nth-view",{_as:"props",_p:void 0}),ki=c("wt-start",{_as:"props",_p:void 0}),zi=c("wt-sc",{_as:"props",_p:void 0}),Ii=function(t,n){var i=this;void 0===n&&(n="https://api.appzi.io/api"),this.Nt=t,this.Mt=void 0,this.reportDuration=function(t,n,r){return i.Ct(t+"/elapsed/"+n,r)},this.reportEvent=function(t,n){return i.Ct(t+"/inc/"+n)},this.Ct=function(t,n){var r={method:"POST",headers:{"Content-Type":"application/json"}};return void 0!==n&&(r.body=JSON.stringify(n)),i.Nt.fetch(i.Mt+"/"+t,r)},this.Mt=n+"/tele"},Si=Qt(),_i=function(t,n){var i=t.ready;Object.defineProperty(t,"ready",{set:function(t){i=t,t(n)},get:function(){return i},enumerable:!1})},Ai=864e5,Ti=function(t){var n=t.lastAttempt,i=t.attempts,r=t.opts,e=t.now;switch(r._t){case"never":return{state:0===i?"ready":"disabled"};case"times":return i<=r.times?Ei(n,r.cooldownDays,e):{state:"disabled"};case"forever":return Ei(n,r.cooldownDays,e)}},Ei=function(t,n,i){if(!t)return{state:"ready"};var r=function(t,n,i){if(!t)return i;var r=new Date(t);return isNaN(r.valueOf())?new Date:new Date(r.getTime()+n*Ai)}(t,n,i);return i>=r?{state:"ready"}:{state:"cooldown",allowAfter:r}},Ni=function(t,n){return"ready"===t.state?t:B(B({},t),{},{bannedBy:n})},Mi=function(){function t(t,n,i,r,e){var o=this;this.id=t,this.Dt=n,this.Rt=i,this.Ft=r,this.Jt=e,this.Lt=function(t){return new Promise((function(n,i){var r,e;return Promise.resolve(o.Ft.getLastRun(o.id)).then((function(u){try{return r=u,e=o.Jt.now(),!1===function(t,n,i){if(!t)return{canRunNow:!0};var r=function(t,n,i){var r=t.attempts,e=t.lastPop,o=n.dismiss,u=Ni(Ti({attempts:t.submits,lastAttempt:t.lastSubmit,opts:n.submit,now:i}),"submit");return"ready"!==u.state?u:Ni(Ti({attempts:r,lastAttempt:e,opts:o,now:i}),"dismiss")}(t,n,i);return"ready"===r.state?{canRunNow:!0}:{canRunNow:!1,bannedBy:r.bannedBy}}(r,o.Rt,e).canRunNow||t(),n()}catch(s){return i(s)}}),i)}))}}return t.prototype.run=function(t){var n=this,i=setTimeout((function(){return new Promise((function(i,r){return Promise.resolve(n.Lt(t)).then((function(){try{return i()}catch(t){return r(t)}}),r)}))}),1e3*this.Dt.delaySeconds);return{cancel:function(){clearTimeout(i)}}},t}(),Ci=function(){function t(t,n){this.qt=t,this.Jt=n}return t.prototype.create=function(t){var n=function(t,n,i,r,e){if("top"===n._t)return new Mi(t,n,i,r,e);throw new Error("not supported: "+n._t)}(t.id,t.trigger,t.retake,this.qt,this.Jt);return n},t}(),Di=function(t){return!!t.launcher},Ri=function(){function t(t,n,i,r,e,o){var u=this;this.Bt=t,this.Ut=n,this.Wt=i,this.appzi=r,this.Xt=e,this.$t={},this.Yt=new Set,this.Vt=void 0,this.open=function(t){u.Wt.getById(t)&&u.Kt({cfg:u.Wt.getById(t),mode:"pop"})},this.Zt=[],this.Kt=function(t){var n=t.cfg,i=t.mode;if(Di(n)&&u.Gt(n.id),u.Ht(i)){u.Xt.reportAttempt(t);var r=u.appzi.create(t.cfg);u.Zt.includes(r)||(u.Qt(r,n.id),r.bridge.on(wt,(function(){return new Promise((function(n,i){return Promise.resolve(u.Xt.reportSubmit(t)).then((function(){try{return n()}catch(t){return i(t)}}),i)}))})),u.Zt.push(r)),r.show()}},this.Gt=function(t){if(u.Vt!==t){var n=u.Vt;if(u.Vt=t,n&&u.tn(n),t){var i=u.appzi.create(u.Wt.getById(t));u.Qt(i,t)}}},this.tn=function(t){u.$t[t].watch.unsubscribe(),delete u.$t[t],u.appzi.destroy(t)},this.Qt=function(t,n){var i=t.state$.subscribe((function(t){return t.isOpen?u.Yt.add(n):u.Yt.delete(n)}));u.$t[n]={host:t,watch:i}},this.Gt=w(this.Gt,o)}var n=t.prototype;return n.start=function(){var t=this;this.Bt.config$.subscribe((function(n){return t.Gt(n)})),this.Ut.activateIntent$.subscribe((function(n){return t.Kt(n)}))},n.Ht=function(t){switch(t){case"pop":return!0;case"pop-shy":return 0===this.Yt.size;default:return!1}},t}(),Fi=function(){function t(){}var n=t.prototype;return n.set=function(n,i){t.nn[n]=i},n.get=function(n){return t.nn[n]},t}();Fi.nn={};var Ji,Li=function(){function t(t){this.w=t,this.rn=void 0,this.rn=this.w.localStorage}var n=t.prototype;return n.isSupported=function(){try{var t="__appzi-test__";return this.rn.setItem(t,t),this.rn.removeItem(t),!0}catch(n){return!1}},n.set=function(t,n){this.rn.setItem(t,JSON.stringify(n))},n.get=function(t){var n=this.rn.getItem(t);try{return n&&JSON.parse(n)}catch(i){return}},t}(),qi=function(){function t(t){this.window=t}var n,i,r=t.prototype;return r.set=function(t,n){this.storageProvider.set(t,n)},r.get=function(t){return this.storageProvider.get(t)},n=t,(i=[{key:"storageProvider",get:function(){return function(t){var n=new Li(t);return n.isSupported()?n:new Fi}(this.window)}}])&&function(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),t}(),Bi=function(t,n){return-1===t.indexOf(n)},Ui=function(t,n){var i=t[2];switch(t[1]){case"contains":return-1!==n.indexOf(i);case"exact":return n.toLocaleLowerCase()===i.toLocaleLowerCase();case"regex":return new RegExp(i,"i").test(n);default:return!1}},Wi=function(t,n){switch(n[0]){case"data":return function(t,n){switch(n[1]){case"age-days":var i=n[3],r=n[4],e=function(t){switch(Gt(t)){case"date":return t;case"string":var n=new Date(t);return isNaN(n)?void 0:n;default:return}}(t[n[2]]);if(!e)return!1;var o=((new Date).getTime()-e.getTime())/Ai;return Wi({props:{v:o}},["data",i,"v",r]);case"eq":return t[n[2]]==n[3];case"neq":return t[n[2]]!=n[3];case"gt":return t[n[2]]>n[3];case"lt":return t[n[2]]<n[3];case"is-set":return!!t[n[2]];case"is-unset":var u=t[n[2]];return null==u||""===u;default:return!1}}(t.props,n);case"userId":return function(t,n){return"exists"===n[1]?!!t:!t}(t.userId,n);default:return!1}},Xi=function(t,n){var i=function(t){for(var n,i={jsVarRules:[],urlRules:[]},r=function(t){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,n){if(t){if("string"==typeof t)return W(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?W(t,n):void 0}}(t))){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t);!(n=r()).done;){var e=n.value;"url"===e[0]?i.urlRules.push(e):i.jsVarRules.push(e)}return i}(t),r=i.jsVarRules,e=function(t,n){if(t.filter((function(t){return"not"===t[1]})).find((function(t){return Ui([t[0],t[2],t[3]],n)})))return!1;var i=t.filter((function(t){return"not"!==t[1]}));return!i.length||!!i.find((function(t){return Ui(t,n)}))}(i.urlRules,n.url);return e&&function(t,n){return 0==!!n.find((function(n){return!Wi(t,n)}))}(n.data,r)},$i=function(t,n,i){var r=this;this.env=t,this.cache=n,this.config$=$n(),this.activate=function(){r.env.current$.subscribe(r.en)},this.en=function(t){var n=function(t,n){return t.find((function(t){return Bi(t.targeting.excludedDevices,n.device)&&Xi(t.targeting.filter,n)}))}(r.cache.allManual,t);r.config$.next(null==n?void 0:n.id)},this.en=w(this.en,i)},Yi=function(){function t(t,n,i){var r=this;this.un=t,this.sn=n,this.cn=i,this.activateIntent$=$n(),this.an={},this.fn=[],this.hn=Xn,this.activate=function(){var t=r.un.current$.subscribe(r.en);r.hn=t},this.deactivate=function(){r.hn.unsubscribe()},this.en=function(t){var n=function(t,n){return t.filter((function(t){return Bi(t.targeting.excludedDevices,n.device)&&Xi(t.targeting.filter,n)}))}(r.sn.allAutomatic,t),i=r.fn.filter((function(t){return!n.find((function(n){return t.id===n.id}))}));r.vn(i);var e=n.filter((function(t){return!r.an[t.id]}));r.ln(e),r.fn=n}}var n=t.prototype;return n.ln=function(t){var n=this;t.forEach((function(t){var i=function(t,n){var i=Nt,r=$n();return{activateIntent$:r,deactivate:function(){return i()},run:function(){var e=n.run((function(){return r.next({cfg:t,mode:"pop-shy"})})).cancel;i=function(){return e()}}}}(t,n.cn.create(t.targeting.autoTrigger)),r=i.activateIntent$.subscribe((function(t){return n.activateIntent$.next(t)}));n.an[t.id]={cleanup:function(){r.unsubscribe(),i.deactivate()}},i.run()}))},n.vn=function(t){var n=this;t.forEach((function(t){n.an[t.id].cleanup(),delete n.an[t.id]}))},t}(),Vi=function(t){var n=t.settings().userId,i=n?n.toString():"";return i.length&&i.length<50?i:void 0},Ki=function(t,n){return{configId:t.id,ruleId:t.targeting.autoTrigger.id,userId:n}},Zi=function(){function t(t,n,i){var r=this;void 0===i&&(i="https://api.appzi.io/api"),this.win=t,this.sp=n,this.endpoint=i,this.dn=function(t,n){return r.win.fetch(r.endpoint+"/auto-pop/"+t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)})}}var n=t.prototype;return n.getLastRun=function(t){return new Promise(function(n,i){var r,e;return(r=Vi(this.sp))?Promise.resolve(this.win.fetch(this.endpoint+"/auto-pop?userId="+encodeURIComponent(r)+"&ruleId="+encodeURIComponent(t),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}})).then((function(t){try{return e=t,Promise.resolve(new Promise((function(t,n){return 200===e.status?Promise.resolve(e.json()).then(t,n):t(void 0)}))).then((function(t){try{return n(t)}catch(r){return i(r)}}),i)}catch(r){return i(r)}}),i):n(void 0)}.bind(this))},n.reportAttempt=function(t){return new Promise(function(n,i){var r,e;return(r=Vi(this.sp))?(e=Ki(t.cfg,r),Promise.resolve(this.dn("attempt",e)).then((function(){try{return n()}catch(t){return i(t)}}),i)):n()}.bind(this))},n.reportSubmit=function(t){return new Promise(function(n,i){var r,e,o;return r=t.cfg,(e=Vi(this.sp))?(o=Ki(r,e),Promise.resolve(this.dn("taken",o)).then((function(){try{return n()}catch(t){return i(t)}}),i)):n()}.bind(this))},t}(),Gi={now:function(){return new Date}},Hi=function(t,n){return"azat"+(n||"")+"-"+t},Qi=function(){function t(t,n,i){var r=this;void 0===i&&(i=Gi),this.persistenceSvc=t,this.sp=n,this.Jt=i,this.bn=function(){return r.sp.settings().userId},this.pn=function(t){return new Promise((function(n,i){var e,o,u,s;return e=function(t,n){return Hi(t.cfg.targeting.autoTrigger.id,n)}(t,r.bn()),Promise.resolve(r.getLastRun(t.cfg.targeting.autoTrigger.id)).then((function(c){try{return u=(o=c||{}).submits,s=o.attempts,n({run:{configId:t.cfg.id,ruleId:t.cfg.targeting.autoTrigger.id,lastSubmit:o.lastSubmit,lastPop:r.Jt.now(),submits:u||0,attempts:s||0},key:e})}catch(a){return i(a)}}),i)}))},this.reportAttempt=function(t){return new Promise((function(n,i){var e,o,u;return Promise.resolve(r.pn(t)).then((function(t){try{return o=(e=t.run).attempts+1,u=$($({},e),{},{attempts:o,lastPop:r.Jt.now(),v:2}),r.persistenceSvc.set(Hi(u.ruleId,r.bn()),u),n()}catch(s){return i(s)}}),i)}))},this.reportSubmit=function(t){return new Promise((function(n,i){var e,o,u,s;return Promise.resolve(r.pn(t)).then((function(t){try{return u=(e=t).key,s=$($({},o=e.run),{},{lastSubmit:r.Jt.now(),submits:o.submits+1,attempts:0,lastPop:r.Jt.now(),v:2}),r.persistenceSvc.set(u,s),n()}catch(c){return i(c)}}),i)}))}}var n=t.prototype;return n.getLastRun=function(t){return new Promise(function(n){var i;return n((i=this.persistenceSvc.get(Hi(t,this.bn())))?2===i.v?i:{configId:i.configId,lastPop:i.lastPop,ruleId:i.ruleId,submits:i.didSubmit?1:0,v:2,lastSubmit:i.didSubmit?i.lastPop:void 0,attempts:1}:i)}.bind(this))},n.saveRun=function(t,n){var i=$($({},n),{},{v:2});this.persistenceSvc.set(Hi(t,this.bn()),i)},t}(),tr=function(t){return"pop-shy"===t.mode},nr=function(t,n){var i=this;this.wn=t,this.mn=n,this.getLastRun=function(t){return new Promise((function(n,r){var e;return Promise.resolve(i.mn.getLastRun(t)).then((function(o){try{return(e=o)?(i.wn.saveRun(t,e),n(e)):n(e||i.wn.getLastRun(t))}catch(u){return r(u)}}),r)}))},this.reportAttempt=function(t){return new Promise((function(n,r){return tr(t)?Promise.resolve(i.wn.reportAttempt(t)).then((function(){try{return Promise.resolve(i.mn.reportAttempt(t)).then((function(){try{return n()}catch(t){return r(t)}}),r)}catch(e){return r(e)}}),r):n()}))},this.reportSubmit=function(t){return new Promise((function(n,r){return tr(t)?Promise.resolve(i.wn.reportSubmit(t)).then((function(){try{return Promise.resolve(i.mn.reportSubmit(t)).then((function(){try{return n()}catch(t){return r(t)}}),r)}catch(e){return r(e)}}),r):n()}))}},ir=function(t){var n=this;this.triggers=t,this.activateIntent$=$n(),this.On=[],this.activate=function(){n.triggers.forEach((function(t){n.On.push(t.activateIntent$.subscribe((function(t){return n.activateIntent$.next(t)}))),t.activate()}))},this.deactivate=function(){n.On.forEach((function(t){return t.unsubscribe()})),n.triggers.forEach((function(t){return t.deactivate()}))}},rr="data-az-l",er=function(t,n){var i=this;this.doc=t,this.configCache=n,this.activateIntent$=$n(),this.activate=function(){return i.doc.addEventListener("click",i.jn)},this.deactivate=function(){return i.doc.removeEventListener("click",i.jn)},this.jn=function(t){for(var n=t.target;n;){if(n.hasAttribute(rr)){var r=n.getAttribute(rr);r&&(i.activateIntent$.next({cfg:i.configCache.getById(r),mode:"pop"}),t.stopPropagation(),t.preventDefault())}n=n.parentElement}}};!function(t){t[t.VeryImportant=5]="VeryImportant",t[t.Important=4]="Important",t[t.Medium=3]="Medium",t[t.Low=2]="Low",t[t.Lowest=1]="Lowest"}(Ji||(Ji={}));var or={excludedDevices:[],filter:[]},ur=function(t){return K(K({},t),{},{targeting:t.targeting||or,weight:(n=t.targeting||or,i=n.excludedDevices,r=n.filter,e=r.filter((function(t){return"url"===t[0]})),o=e.filter((function(t){return"not"===t[1]})),u=e.filter((function(t){return"not"!==t[1]})),s=r.filter((function(t){return"data"===t[0]||"userId"===t[0]})),c=u.length||o.length,a=!!i.length,f=[c&&a&&Ji.Important,s.length&&Ji.Important,a&&Ji.Medium,c&&Ji.Low,Ji.Lowest].filter((function(t){return!!t})),Math.max.apply(Math,f))});var n,i,r,e,o,u,s,c,a,f},sr=function(t,n){return t.weight===n.weight?0:t.weight>n.weight?-1:1},cr=function(t){return!!t.targeting.autoTrigger},ar=function(){function t(){this.yn=[],this.gn=[],this.xn=[]}var n,i,r=t.prototype;return r.getById=function(t){return this.yn.find((function(n){return n.id===t}))},r.push=function(t){var n=t.map(ur);this.yn=[].concat(this.yn,n).sort(sr),this.gn=this.yn.filter(Di),this.xn=this.yn.filter(cr)},n=t,(i=[{key:"allManual",get:function(){return this.gn}},{key:"allAutomatic",get:function(){return this.xn}}])&&function(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),t}(),fr={data:{props:{}},device:"desktop",url:""},hr=function(t,n){var i=this;this.current$=$n(),this.Pn=fr,this.kn=void 0,this.zn=function(t){i.Pn=H(H({},i.Pn),t),cancelAnimationFrame(i.kn),i.kn=requestAnimationFrame(i.In)},this.In=function(){i.current$.next(i.Pn)},t.current$.subscribe((function(t){return i.zn(t)})),n.current$.subscribe((function(t){return i.zn({data:t})}))},vr=function(){function t(t,n){var i=this;this.sp=t,this.Sn=n,this.current$=$n(),this._n=fr.data,this.An=function(){var t,n,r,e,o={userId:(t=i.sp.settings()).userId,props:(n=t.data,void 0===n&&(n={}),Object.entries(n).reduce((function(t,n){var i,r,e=n[0],o=n[1];return nt(nt({},t),{},((i={})[e]="object"===Gt(r=o)?r.value:r,i))}),{}))};((r=i._n).userId!==(e=o).userId||function(t,n){var i=Object.entries(t),r=Object.entries(n);if(i.length!==r.length)return!0;for(var e=0;e<i.length;e++)if(i[e][1]!==r[e][1])return!0;return!1}(r.props,e.props))&&(i._n=o,i.current$.next(o))}}return t.prototype.start=function(){var t=this;this.An(),setInterval((function(){return t.An()}),this.Sn)},t}(),lr=function(t){var n=this;this.Tn=void 0,this.device=function(){return n.mobile()?"mobile":n.tablet()?"tablet":"desktop"},this.mobile=function(){return n.En()||n.Nn()||n.Mn()||n.Cn()||n.Dn()},this.tablet=function(){return n.Rn()||n.Fn()||n.Jn()||n.Ln()},this.Nn=function(){return!n.qn()&&n.find("iphone")},this.Mn=function(){return n.find("ipod")},this.Rn=function(){return n.find("ipad")},this.Bn=function(){return!n.qn()&&n.find("android")},this.En=function(){return n.Bn()&&n.find("mobile")},this.Fn=function(){return n.Bn()&&!n.find("mobile")},this.Un=function(){return n.find("blackberry")||n.find("bb10")||n.find("rim")},this.Dn=function(){return n.Un()&&!n.find("tablet")},this.Jn=function(){return n.Un()&&n.find("tablet")},this.qn=function(){return n.find("windows")},this.Cn=function(){return n.qn()&&n.find("phone")},this.Ln=function(){return n.qn()&&n.find("touch")&&!n.Cn()},this.find=function(t){return-1!==n.Tn.indexOf(t)},this.Tn=t.toLowerCase()},dr=function(){function t(t,n){var i=this;this.win=t,this.current$=$n(),this.Wn=void 0,this.Xn=void 0,this.$n=void 0,this.Yn=function(){var t=i.win.location.href;i.Wn!==t&&(i.Wn=t,i.current$.next({device:i.$n,url:t}))},this.Xn=n;var r=new lr(t.navigator.userAgent);this.$n=r.device()}return t.prototype.start=function(){this.Yn(),setInterval(this.Yn,this.Xn)},t}(),br=Ct.default,pr=br.win,wr=function(t,n,i,r){void 0===n&&(n=ui(t.win)),void 0===r&&(r=Zt(t.win));var e=function(t,n){var i=new ji(t,t.win,n,new mi(t,n));return new Oi(i,Zt(t.win))}(t,n),o=new ei(t,e);return Ht(o,r,[].concat(Object.keys(o))),o}(br),mr=pr.Iem8uxah||[];!function(t,n){var i,r,e,o=t.win;o.appzi=n,/iPad|iPhone|iPod/.test(t.win.navigator.userAgent)&&t.doc.body.classList.add("appzi-is-ios");try{var u=o.appziSettings;if(o.appziSettings){var s=o.appziSettings.ready;s?s(n):_i(o.appziSettings,n)}Object.defineProperty(o,"appziSettings",{set:function(t){(u=t)&&(u.ready?u.ready(n):_i(u,n))},get:function(){return u}})}catch(c){}(o.Cohchie9||[]).forEach((function(t){return Si(t)(n)})),r=n.bridge,e=new Ii(o),r.on(xi,(function(t){return e.reportEvent(t.surveyId,"open")})),r.on(ki,(function(t){return e.reportEvent(t.surveyId,"start")})),r.on(zi,(function(t){var n=t.surveyId,i=t.durationMs;e.reportEvent(n,"complete"),e.reportDuration(n,"complete",i)})),i=o,n.bridge.on(Pi,(function(t){var n,r=t.surveyId,e=(null==(n=i.appziSettings)?void 0:n.onEvent)||Nt;try{e({surveyId:r,type:"open-survey"})}catch(c){}}))}(br,wr);var Or=ui(pr);delete pr.Iem8uxah,mr.length&&function(t,n,i,r,e){var o,u,s,c=function(t,n){void 0===n&&(n=ui(t));var i=function(t,n){return void 0===n&&(n=1e3),new vr(t,n)}(n),r=function(t,n){return void 0===n&&(n=100),new dr(t,n)}(t);return{hostDataWatcher:i,envWatcher:new hr(r,i),start:function(){i.start(),r.start()}}}(t.win,i),a=c.hostDataWatcher,f=c.start,h=function(t,n,i,r,e,o){var u=t.win,s=t.doc,c=new ar;Ht(c,o,["getById","push"]),c.push(r);var a=new nr(new Qi(new qi(u),i),new Zi(u,i)),f=new Ci(a,Gi);Ht(f,o);var h=new $i(e,c,o),v=new ir([Ht(new Yi(e,c,f),o),new er(s,c)]);Ht(v,o);var l=new Ri(h,v,c,n,a,o);return{start:function(){l.start(),v.activate(),h.activate()},swapper:l}}(t,n,i,r,c.envWatcher,e),v=h.start,l=h.swapper;o=a,u=[],s={props:{}},n.hosts$.subscribe((function(t){var n=t.bridge;u.push(n),n.post(ht({data:s.props})),n.on(lt,(function(){return n.post(ht({data:s.props}))}))})),o.current$.subscribe((function(t){s=t,u.forEach((function(n){return n.post(ht({data:t.props}))}))})),function(t,n){t.sw=n}(n,l),v(),f()}(br,wr,Or,mr,Zt(pr))})()})();